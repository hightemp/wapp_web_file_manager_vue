(function(){"use strict";var e={926:function(e,t,i){var s=i(963),a=i(252),l=i(577);const n={class:"wrapper"},o={class:"account-panel"},r={class:"account-control-panel"},c=(0,a._)("input",{type:"text",class:"form-control"},null,-1),d=(0,a._)("i",{class:"bi bi-pencil"},null,-1),p=[d],u={class:"list-group"},b=["onClick"],m={class:"files-panel"},f={class:"files-control-panel"},h=(0,a._)("i",{class:"bi bi-layout-three-columns"},null,-1),_=[h],w=(0,a._)("i",{class:"bi bi-ui-checks-grid"},null,-1),v=[w],y=(0,a._)("i",{class:"bi bi-ui-checks"},null,-1),g=[y],k={key:0,class:"files-list-as-grid-wrapper"},F={class:"files-grid-control-panel"},R=(0,a._)("i",{class:"bi bi-arrow-left"},null,-1),C=[R],D=(0,a._)("i",{class:"bi bi-arrow-up"},null,-1),I=[D],x=(0,a._)("i",{class:"bi bi-arrow-right"},null,-1),P=[x],S={class:"path"},L={class:"path-wrapper"},T={class:"bi bi-play-fill"},A=["onClick"],U={class:"files-list-wrapper_grid-box-wrapper"},E={class:"files-list-wrapper_grid-box"},O=["onClick"],H={class:"icon-wrapper"},B={class:"icon"},G=(0,a._)("i",{class:"bi bi-folder-fill"},null,-1),N=[G],z={class:"icon"},W=(0,a._)("i",{class:"bi bi-file-earmark-text-fill"},null,-1),Y=[W],M={class:"title"},K={key:1,class:"files-list-as-list-wrapper"},q={class:"files-list-control-panel"},J=(0,a._)("i",{class:"bi bi-arrow-left"},null,-1),j=[J],V=(0,a._)("i",{class:"bi bi-arrow-up"},null,-1),Z=[V],$=(0,a._)("i",{class:"bi bi-arrow-right"},null,-1),Q=[$],X={class:"path"},ee={class:"path-wrapper"},te={class:"bi bi-play-fill"},ie=["onClick"],se={class:"files-list-wrapper_list-box"},ae={class:"files-list-list"},le=(0,a._)("div",{class:"list-row header"},[(0,a._)("div",null,"name"),(0,a._)("div",null,"size"),(0,a._)("div",null,"created at"),(0,a._)("div",null,"modified at")],-1),ne=["onClick"],oe={class:"filename-cell"},re={key:0,class:"icon"},ce=(0,a._)("i",{class:"bi bi-folder-fill"},null,-1),de=[ce],pe={key:1,class:"icon"},ue=(0,a._)("i",{class:"bi bi-file-earmark-text-fill"},null,-1),be=[ue],me={class:"title"},fe={key:2,class:"files-list-wrapper",ref:"files_list_wrapper"},he={class:"files-list-wrapper_box"},_e=["onClick"],we={class:"icon"},ve=(0,a._)("i",{class:"bi bi-folder-fill"},null,-1),ye=[ve],ge={class:"icon"},ke=(0,a._)("i",{class:"bi bi-file-earmark-text-fill"},null,-1),Fe=[ke],Re={class:"page-preview"},Ce={class:"code-preview"},De={class:"image-preview"},Ie={class:"loader"},xe=(0,a._)("div",{class:"center"},[(0,a._)("div",{class:"lds-dual-ring"})],-1),Pe=[xe],Se=(0,a._)("div",{class:"block-overlay"},null,-1),Le={id:"modal-ask-api-key",class:"modal show",tabindex:"-1"},Te={class:"modal-dialog"},Ae={class:"modal-content"},Ue=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"Данные репозитория")],-1),Ee={class:"modal-body",style:{height:"500px","overflow-y":"scroll"}},Oe={class:"modal-ask-api_list_buttons"},He=(0,a._)("div",null,null,-1),Be={class:"mb-3"},Ge=(0,a._)("label",{for:"",class:"form-label"},"Логин",-1),Ne=(0,a._)("option",{value:"github"},"github",-1),ze=(0,a._)("option",{value:"webdav"},"webdav",-1),We=[Ne,ze],Ye={class:"mb-3"},Me=(0,a._)("label",{for:"",class:"form-label"},"Название",-1),Ke={class:"mb-3"},qe=(0,a._)("label",{for:"",class:"form-label"},"Логин",-1),Je={class:"mb-3"},je=(0,a._)("label",{for:"",class:"form-label"},"Репозиторий",-1),Ve={class:"mb-3"},Ze=(0,a._)("label",{for:"",class:"form-label"},"API Ключ",-1),$e={class:"mb-3"},Qe=(0,a._)("label",{for:"",class:"form-label"},"URL",-1),Xe={class:"mb-3"},et=(0,a._)("label",{for:"",class:"form-label"},"Пользователь",-1),tt={class:"mb-3"},it=(0,a._)("label",{for:"",class:"form-label"},"Пароль",-1),st={class:"modal-ask-api_list_buttons"},at=(0,a._)("div",null,null,-1),lt={class:"list-repo-item_desc"},nt={class:"list-repo-item_title"},ot={class:"list-repo-item_type"},rt={class:"list-repo-item_name"},ct=(0,a._)("b",null,"login:",-1),dt=(0,a._)("b",null,"repo:",-1),pt=(0,a._)("b",null,"key:",-1),ut=(0,a._)("b",null,"url:",-1),bt=(0,a._)("b",null,"username:",-1),mt=(0,a._)("b",null,"password:",-1),ft=["onClick"],ht=(0,a._)("i",{class:"bi bi-pencil"},null,-1),_t=[ht],wt=["onClick"],vt=(0,a._)("i",{class:"bi bi-trash"},null,-1),yt=[vt],gt={class:"modal-footer"};function kt(e,t,i,d,h,w){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",n,[(0,a._)("div",o,[(0,a._)("div",r,[c,(0,a._)("button",{class:(0,l.C_)("btn "),onClick:t[0]||(t[0]=e=>h.bShowEditRepoWindow=!0)},p)]),(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.aRepos,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:e,type:"button",class:(0,l.C_)("list-group-item list-group-item-action "+(h.iActiveRepo==t?"active":"")),"aria-current":"true",onClick:i=>w.fnSlectRepo(t,e)},(0,l.zw)(e.name),11,b)))),128))])]),(0,a._)("div",m,[(0,a._)("div",f,[(0,a._)("button",{class:(0,l.C_)("btn "+("column"==h.sFilesListType?"btn-primary":"")),onClick:t[1]||(t[1]=e=>h.sFilesListType="column")},_,2),(0,a._)("button",{class:(0,l.C_)("btn "+("grid"==h.sFilesListType?"btn-primary":"")),onClick:t[2]||(t[2]=e=>h.sFilesListType="grid")},v,2),(0,a._)("button",{class:(0,l.C_)("btn "+("list"==h.sFilesListType?"btn-primary":"")),onClick:t[3]||(t[3]=e=>h.sFilesListType="list")},g,2)]),"grid"==h.sFilesListType?((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",F,[(0,a._)("button",{class:(0,l.C_)("btn "),onClick:t[4]||(t[4]=(...t)=>e.fnGoPrev&&e.fnGoPrev(...t))},C),(0,a._)("button",{class:(0,l.C_)("btn "),onClick:t[5]||(t[5]=(...e)=>w.fnGoUp&&w.fnGoUp(...e))},I),(0,a._)("button",{class:(0,l.C_)("btn "),onClick:t[6]||(t[6]=(...t)=>e.fnGoNext&&e.fnGoNext(...t))},P),(0,a._)("div",S,[(0,a._)("div",L,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.aPath,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e},[(0,a.wy)((0,a._)("i",T,null,512),[[s.F8,t>0]]),(0,a._)("div",{class:"path-link",onClick:e=>w.fnOpenPathByIndex(t)},(0,l.zw)(e),9,A)],64)))),128))])])]),(0,a._)("div",U,[(0,a._)("div",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.aFiles,(e=>((0,a.wg)(),(0,a.iD)("button",{key:e,type:"button",class:"list-group-item list-group-item-action file-grid-item","aria-current":"true",onClick:t=>w.fnClickFileItem(e)},[(0,a._)("div",H,[(0,a.wy)((0,a._)("span",B,N,512),[[s.F8,"directory"==e.type]]),(0,a.wy)((0,a._)("span",z,Y,512),[[s.F8,"file"==e.type]])]),(0,a._)("div",M,(0,l.zw)(e.name),1)],8,O)))),128))])])])):(0,a.kq)("",!0),"list"==h.sFilesListType?((0,a.wg)(),(0,a.iD)("div",K,[(0,a._)("div",q,[(0,a._)("button",{class:(0,l.C_)("btn "),onClick:t[7]||(t[7]=(...t)=>e.fnGoPrev&&e.fnGoPrev(...t))},j),(0,a._)("button",{class:(0,l.C_)("btn "),onClick:t[8]||(t[8]=(...e)=>w.fnGoUp&&w.fnGoUp(...e))},Z),(0,a._)("button",{class:(0,l.C_)("btn "),onClick:t[9]||(t[9]=(...t)=>e.fnGoNext&&e.fnGoNext(...t))},Q),(0,a._)("div",X,[(0,a._)("div",ee,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.aPath,((e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,{key:e},[(0,a.wy)((0,a._)("i",te,null,512),[[s.F8,t>0]]),(0,a._)("div",{class:"path-link",onClick:e=>w.fnOpenPathByIndex(t)},(0,l.zw)(e),9,ie)],64)))),128))])])]),(0,a._)("div",se,[(0,a._)("div",ae,[le,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.aFiles,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"list-row",onClick:t=>w.fnClickFileItem(e)},[(0,a._)("div",oe,["directory"==e.type?((0,a.wg)(),(0,a.iD)("span",re,de)):(0,a.kq)("",!0),"file"==e.type?((0,a.wg)(),(0,a.iD)("span",pe,be)):(0,a.kq)("",!0),(0,a._)("div",me,(0,l.zw)(e.name),1)]),(0,a._)("div",null,(0,l.zw)(e.human_size),1),(0,a._)("div",null,(0,l.zw)(e.created_at),1),(0,a._)("div",null,(0,l.zw)(e.updated_at),1)],8,ne)))),128))])])])):(0,a.kq)("",!0),"column"==h.sFilesListType?((0,a.wg)(),(0,a.iD)("div",fe,[(0,a._)("div",he,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.aFilesColumns,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e,class:"list-group files-list"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,(e=>((0,a.wg)(),(0,a.iD)("button",{key:e,type:"button",class:(0,l.C_)("list-group-item list-group-item-action file-item "+(e.name==h.aPath[t+1]?"active":"")),onClick:i=>w.fnClickFileItem(e,t)},[(0,a.wy)((0,a._)("span",we,ye,512),[[s.F8,"directory"==e.type]]),(0,a.wy)((0,a._)("span",ge,Fe,512),[[s.F8,"file"==e.type]]),(0,a.Uk)(" "+(0,l.zw)(e.name),1)],10,_e)))),128))])))),128))])],512)):(0,a.kq)("",!0)]),(0,a._)("div",Re,[(0,a.wy)((0,a._)("div",Ce,null,512),[[s.F8,"code"==h.sPreviewShow]]),(0,a.wy)((0,a._)("div",De,null,512),[[s.F8,"image"==h.sPreviewShow]])])]),(0,a.wy)((0,a._)("div",Ie,Pe,512),[[s.F8,h.bShowLoader]]),(0,a.wy)((0,a._)("div",null,[Se,(0,a._)("div",Le,[(0,a._)("div",Te,[(0,a._)("div",Ae,[Ue,(0,a._)("div",Ee,[null!==h.iEditIndex?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",Oe,[He,(0,a._)("div",null,[(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[10]||(t[10]=(...e)=>w.fnCancelRepo&&w.fnCancelRepo(...e))},"Отмена"),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[11]||(t[11]=(...e)=>w.fnSaveRepo&&w.fnSaveRepo(...e))},"Сохранить")])]),(0,a._)("div",Be,[Ge,(0,a.wy)((0,a._)("select",{class:"form-control","onUpdate:modelValue":t[12]||(t[12]=e=>h.sFromType=e)},We,512),[[s.bM,h.sFromType]])]),(0,a._)("div",Ye,[Me,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[13]||(t[13]=t=>e.sFormName=t)},null,512),[[s.nr,e.sFormName]])]),"github"==h.sFromType?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",Ke,[qe,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[14]||(t[14]=e=>h.sFormLogin=e)},null,512),[[s.nr,h.sFormLogin]])]),(0,a._)("div",Je,[je,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[15]||(t[15]=e=>h.sFormRepo=e)},null,512),[[s.nr,h.sFormRepo]])]),(0,a._)("div",Ve,[Ze,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[16]||(t[16]=e=>h.sFormKey=e)},null,512),[[s.nr,h.sFormKey]])])],64)):(0,a.kq)("",!0),"webdav"==h.sFromType?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",$e,[Qe,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[17]||(t[17]=e=>h.sFormURL=e)},null,512),[[s.nr,h.sFormURL]])]),(0,a._)("div",Xe,[et,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[18]||(t[18]=t=>e.sFormUsername=t)},null,512),[[s.nr,e.sFormUsername]])]),(0,a._)("div",tt,[it,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[19]||(t[19]=t=>e.sFormPassword=t)},null,512),[[s.nr,e.sFormPassword]])])],64)):(0,a.kq)("",!0)],64)):((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",st,[at,(0,a._)("div",null,[(0,a._)("button",{class:"btn btn-secondary",onClick:t[20]||(t[20]=(...t)=>e.fnExport&&e.fnExport(...t))},"Экспортировать"),(0,a._)("button",{class:"btn btn-danger",onClick:t[21]||(t[21]=(...e)=>w.fnCleanRepo&&w.fnCleanRepo(...e))},"Очистить"),(0,a._)("button",{class:"btn btn-success",onClick:t[22]||(t[22]=(...e)=>w.fnNewRepo&&w.fnNewRepo(...e))},"Добавить")])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.aRepos,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,l.C_)("list-repo-item "+(h.iSelectedRepoIndex==t?"active":""))},[e?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",lt,[(0,a._)("div",nt,[(0,a._)("div",ot,(0,l.zw)(e.type),1),(0,a._)("div",rt,(0,l.zw)(e.name),1)]),"github"==e.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a._)("div",null,[ct,(0,a.Uk)(" "+(0,l.zw)(e.login),1)]),(0,a._)("div",null,[dt,(0,a.Uk)(" "+(0,l.zw)(e.repo),1)]),(0,a._)("div",null,[pt,(0,a.Uk)(" "+(0,l.zw)(e.key),1)])],64)):(0,a.kq)("",!0),"webdav"==e.type?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",null,[ut,(0,a.Uk)(" "+(0,l.zw)(e.url),1)]),(0,a._)("div",null,[bt,(0,a.Uk)(" "+(0,l.zw)(e.username),1)]),(0,a._)("div",null,[mt,(0,a.Uk)(" "+(0,l.zw)(e.password),1)])],64)):(0,a.kq)("",!0)]),(0,a._)("div",null,[(0,a._)("button",{class:"btn btn-success",onClick:e=>w.fnEditRepo(t),title:"Редактировать"},_t,8,ft),(0,a._)("button",{class:"btn btn-danger",onClick:e=>w.fnRemoveRepo(t),title:"Удалить"},yt,8,wt)])],64)):(0,a.kq)("",!0)],2)))),128))],64))]),(0,a._)("div",gt,[(0,a._)("button",{class:"btn btn-success",onClick:t[23]||(t[23]=(...e)=>w.fnCloseRepoWindow&&w.fnCloseRepoWindow(...e))},"Ok")])])])])],512),[[s.F8,h.bShowEditRepoWindow]])],64)}var Ft=i(473),Rt=i(478),Ct=i(207),Dt=i(279),It=i.n(Dt);const xt=new(It());function Pt(e,t=!0,i=1){const s=t?1e3:1024;if(Math.abs(e)<s)return e+" B";const a=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];let l=-1;const n=10**i;do{e/=s,++l}while(Math.round(Math.abs(e)*n)/n>=s&&l<a.length-1);return e.toFixed(i)+" "+a[l]}class St{static oDatabase={groups_last_id:0,groups:[],categories_last_id:0,categories:[],articles_last_id:0,articles:[],favorites_last_id:0,favorites:[],tags_last_id:0,tags:[],tags_relations_last_id:0,tags_relations:[],links_last_id:0,links:[]};static octokit=null;static SHA="";static webdav=null;static oRepoItem=null;static DATABASE_PATH="notes-database.json";static DATABASE_UPDATE_TIMEOUT=3e4;static fnInit(e){St.oRepoItem=e,"github"==e.type&&St.fnInitGit(),"webdav"==e.type&&St.fnInitWebdav()}static fnInitGit(){St.octokit=new Ft.v({auth:St.oRepoItem.key})}static fnInitWebdav(){St.webdav=(0,Rt.createClient)(St.oRepoItem.url,{username:St.oRepoItem.username,password:St.oRepoItem.password})}static fnFirstLoadDatabase(){_s("Database.fnFirstLoadDatabase")}static fnList(e){return"github"==St.oRepoItem.type?St.fnListGithub(e):"webdav"==St.oRepoItem.type?St.fnListWebdav(e):void 0}static fnReadFile(e){return"github"==St.oRepoItem.type?St.fnReadDatabaseGithub():"webdav"==St.oRepoItem.type?St.fnReadDatabaseWebdav():void 0}static fnWriteFile(e,t){return"github"==St.oRepoItem.type?St.fnWriteDatabaseGithub():"webdav"==St.oRepoItem.type?St.fnWriteDatabaseWebdav():void 0}static fnGetSHADatabase(){return new Promise(((e,t)=>{Database.SHA||Database.octokit.rest.repos.getContent({owner:Database.sLogin,repo:Database.sRepo,path:Database.DATABASE_PATH}).then((({data:t})=>{Database.SHA=t.sha,e(Database.SHA),xt.emit("database-get-sha-success")})).catch((e=>{t(e),xt.emit("database-get-sha-error")}))}))}static fnListGithub(e){var t=St.oRepoItem;return new Promise((async(i,s)=>{try{var a=await St.octokit.rest.repos.getContent({owner:t.login,repo:t.repo,path:e});i(a)}catch(l){s(l)}}))}static fnListWebdav(e){St.oRepoItem;return new Promise((async(t,i)=>{try{var s=await St.webdav.getDirectoryContents(e);"/"!=e&&(s=s.splice(1)),s=s.map((e=>({name:e.basename,type:e.type,size:e.size,human_size:Pt(e.size),updated_at:new Date(e.lastmod).toLocaleString("ru-RU")}))),t(s)}catch(a){console.error(a),t([])}}))}static fnReadDatabaseWebdav(){St.oRepoItem;return new Promise((async(e,t)=>{try{var i=await St.webdav.getFileContents(St.DATABASE_PATH),s=new TextDecoder("utf-8"),a=s.decode(i);_l("fnReadDatabaseWebdav",a),St.oDatabase=JSON.parse(a),e(St.oDatabase)}catch(l){_l(l),xt.emit("database-db-error",l+""),/Not Found/.test(l+"")?(xt.emit("database-db-load-error-notfound",l+""),xt.emit("database-db-save")):xt.emit("database-db-load-error-github-exception",l+"")}}))}static fnReadDatabaseGithub(){var e=St.oRepoItem;return St.octokit.rest.repos.getContent({owner:e.login,repo:e.repo,path:St.DATABASE_PATH}).then((({data:e})=>(_l("fnGetNotesDatabase",e),St.oDatabase=JSON.parse((0,Ct.Jx)(e.content)),St.SHA=e.sha,xt.emit("database-db-loaded"),St.oDatabase))).catch(((...e)=>{xt.emit("database-db-error",aArgs[0]+""),/Not Found/.test(e[0])?(xt.emit("database-db-load-error-notfound",aArgs[0]+""),xt.emit("database-db-save")):xt.emit("database-db-load-error-github-exception",aArgs[0]+"")}))}static fnWriteDatabaseGithub(){_s("Database.fnWriteNotesDatabase");var e=JSON.stringify(St.oDatabase,null,4),t=St.oRepoItem;return St.octokit.rest.repos.createOrUpdateFileContents({owner:t.sLogin,repo:t.sRepo,path:St.DATABASE_PATH,sha:St.SHA,message:St.fnGetUpdateMessage(),content:(0,Ct.cv)(e)}).then((()=>{xt.emit("database-db-saved")})).catch(((...e)=>{xt.emit("database-db-error",e[0]+""),xt.emit("database-db-save-error",e[0]+"")}))}static fnWriteDatabaseWebdav(){var e=JSON.stringify(St.oDatabase,null,4);St.oRepoItem;return new Promise((async(t,i)=>{try{var s=new TextEncoder,a=s.encode(e);await St.webdav.putFileContents(St.DATABASE_PATH,a,{contentLength:!1,overwrite:!0}),xt.emit("database-db-saved")}catch(l){throw xt.emit("database-db-error",l+""),xt.emit("database-db-save-error",l+""),/Not Found/.test(l+"")?(xt.emit("database-db-load-error-notfound",l+""),xt.emit("database-db-save")):xt.emit("database-db-load-error-github-exception",l+""),l}}))}static fnGetUpdateMessage(){return"update: "+new Date}static fnUpdateNoteDatabase(){}}const Lt={class:"dropdown"},Tt=["onClick","innerHTML"];function At(e,t,i,s,n,o){return(0,a.wg)(),(0,a.iD)("div",Lt,[(0,a._)("a",{class:"btn dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:t[0]||(t[0]=(...e)=>o.fnMenuOpen&&o.fnMenuOpen(...e))}),(0,a._)("ul",{class:(0,l.C_)("dropdown-menu "+(n.bOpened?"show":""))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.aItems,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},[(0,a._)("a",{class:"dropdown-item",href:"#",onClick:t=>o.fnOnItemClick(e),innerHTML:e.title},null,8,Tt)])))),128))],2)])}var Ut={props:["items"],emits:["clickitem"],data(){return{aItems:this.items,bOpened:!1}},methods:{fnFocusOut(){this.bOpened=!1},fnMenuOpen(){this.bOpened=!this.bOpened},fnOnItemClick(e){this.bOpened=!1,this.$emit("clickitem",e)}},created(){window.addEventListener("click",(e=>{this.$el.contains(e.target)||(this.bOpened=!1)}))}},Et=i(744);const Ot=(0,Et.Z)(Ut,[["render",At]]);var Ht=Ot;const Bt=["onClick"],Gt={class:"icon"},Nt=(0,a._)("i",{class:"bi bi-folder-fill"},null,-1),zt=[Nt],Wt={class:"icon"},Yt=(0,a._)("i",{class:"bi bi-file-earmark-text-fill"},null,-1),Mt=[Yt];function Kt(e,t,i,n,o,r){return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.aFiles,(e=>((0,a.wg)(),(0,a.iD)("button",{key:e,type:"button",class:(0,l.C_)("list-group-item list-group-item-action file-item"+(e.name==r.sSelectedDir?"active":"")),onClick:t=>r.fnItemClick(e,r.iColumnIndex)},[(0,a.wy)((0,a._)("span",Gt,zt,512),[[s.F8,"directory"==e.type]]),(0,a.wy)((0,a._)("span",Wt,Mt,512),[[s.F8,"file"==e.type]]),(0,a.Uk)(" "+(0,l.zw)(e.name),1)],10,Bt)))),128)}var qt={name:"TestFiles",emits:["clickitem"],props:["files","columnindex","selecteddir"],methods:{fnItemClick(e){this.$emit("clickitem",e)}},computed:{aFiles(){return this.files},iColumnIndex(){return this.columnindex},sSelectedDir(){return this.selecteddir}}};const Jt=(0,Et.Z)(qt,[["render",Kt]]);var jt=Jt,Vt={name:"App",components:{FilesColumnList:jt,Dropdown:Ht},methods:{fnSlectRepo(e,t){this.iActiveRepo=e,St.fnInit(t),this.fnResetPath(),this.fnSelectPath("/")},fnResetPath(){this.aFiles=[],this.aFilesColumns=[]},fnSelectPath(e){var t=this;t.aPath.push(e),t.bShowLoader=!0,St.fnList("/"+this.aPath.join("/")).then((e=>{t.aFiles=e,t.aFilesColumns.push(e),t.bShowLoader=!1,setTimeout((()=>{t.$refs.files_list_wrapper.scrollLeft=1e4}),200)}))},fnClickFileItem(e,t){void 0!==t&&t<this.aFilesColumns.length-1&&(this.aFilesColumns.splice(t+1),this.aPath.splice(t+1)),"directory"==e.type&&this.fnSelectPath(e.name)},fnGoUp(){if(1!=this.aPath.length){var e=this.aFilesColumns.length-1,t=this.aPath[this.aPath.length-2];this.aFilesColumns.splice(e-1),this.aPath.splice(e-1),this.fnSelectPath(t)}},fnOpenPathByIndex(e){var t=this.aPath[e];this.aFilesColumns.splice(e),this.aPath.splice(e),this.fnSelectPath(t)},fnSaveRepo(){if(this.sFormName){var e={name:this.sFormName,login:this.sFormLogin,repo:this.sFormRepo,key:this.sFormKey,type:this.sFromType,url:this.sFormURL,username:this.sFormUsername,password:this.sFormPassword};-1==this.iEditIndex?this.aRepos.push(e):this.aRepos.splice(this.iEditIndex,1,e),localStorage.setItem("aRepos",JSON.stringify(this.aRepos)),this.iEditIndex=null}else alert("Надо заполнить поле - Название")},fnNewRepo(){this.iEditIndex=-1,this.sFormName="",this.sFormLogin="",this.sFormRepo="",this.sFormKey="",this.sFormType="github",this.sFormURL="",this.sFormUsername="",this.sFormPassword=""},fnEditRepo(e){this.iEditIndex=e,this.sFormName=this.aRepos[this.iEditIndex].name,this.sFormLogin=this.aRepos[this.iEditIndex].login,this.sFormRepo=this.aRepos[this.iEditIndex].repo,this.sFormKey=this.aRepos[this.iEditIndex].key,this.sFormType=this.aRepos[this.iEditIndex].type,this.sFormURL=this.aRepos[this.iEditIndex].url,this.sFormUsername=this.aRepos[this.iEditIndex].username,this.sFormPassword=this.aRepos[this.iEditIndex].password},fnRemoveRepo(e){this.aRepos.splice(e,1),localStorage.setItem("aRepos",JSON.stringify(this.aRepos))},fnCleanRepo(){this.aRepos=[],localStorage.setItem("aRepos",JSON.stringify(this.aRepos))},fnCancelRepo(){this.iEditIndex=null},fnCloseRepoWindow(){this.bShowEditRepoWindow=!1}},data(){var e=JSON.parse(localStorage.getItem("aRepos")||"[]");return{bShowLoader:!1,bShowBlocker:!1,bShowEditRepoWindow:!0,iEditIndex:null,iSelectedRepoIndex:null,sFormLogin:"",sFormRepo:"",sFormKey:"",sFormURL:"",sFromType:"github",sFilesListType:"column",sPreviewShow:"code",sSelectedFilePath:"",iGridPage:0,aRepoItemMenu:[{id:"edit",title:'<i class="bi bi-pencil"></i> Редактировать'},{id:"delete",title:'<i class="bi bi-trash"></i> Удалить'}],aRepoMenu:[{id:"reload",title:'<i class="bi bi-arrow-repeat"></i> Обновить'},{id:"add",title:'<i class="bi bi-plus-lg"></i> Добавить'}],aMenu:[],aPathHistory:[],iActiveRepo:null,aRepos:e,aPath:[],aFiles:[],aFilesColumns:[]}},created(){}};const Zt=(0,Et.Z)(Vt,[["render",kt]]);var $t=Zt;(0,s.ri)($t).mount("#app")}},t={};function i(s){var a=t[s];if(void 0!==a)return a.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,i),l.exports}i.m=e,function(){var e=[];i.O=function(t,s,a,l){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],l=e[d][2];for(var o=!0,r=0;r<s.length;r++)(!1&l||n>=l)&&Object.keys(i.O).every((function(e){return i.O[e](s[r])}))?s.splice(r--,1):(o=!1,l<n&&(n=l));if(o){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,a,l]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,l,n=s[0],o=s[1],r=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(a in o)i.o(o,a)&&(i.m[a]=o[a]);if(r)var d=r(i)}for(t&&t(s);c<n.length;c++)l=n[c],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(d)},s=self["webpackChunkwapp_web_file_manager_vue"]=self["webpackChunkwapp_web_file_manager_vue"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(926)}));s=i.O(s)})();
//# sourceMappingURL=app.0f9f2a36.js.map